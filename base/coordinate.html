<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">

        #test {
            width: 100px;
            height: 100px;
            margin: 20px;
            border: 10px solid #293482;
            padding: 30px;
            background-color: yellow;
            overflow: auto;
            white-space: nowrap;
        }
    </style>
</head>
<body>
<div id="test">
    啊哈啊哈啊啊哈哈哈哈哈啊哈
</div>

<script type="text/javascript">
    /*body  可视区域*/
    document.documentElement.clientWidth //960
    document.body.clientWidth;  //750
    document.body.offsetWidth;  //750
    document.body.scrollWidth;  //750

    var test = document.getElementById('test');
    var cw = test.clientWidth;   //160 = width + padding
    var ow = test.offsetWidth;   //180 = width + padding + border
    var sw = test.scrollWidth;   //160 = 实际宽 + padding
    //160  180  268
    var ct = test.clientTop;   //10 = border
    var ot = test.offsetTop;   //20 = margin
    var st = test.scrollTop;  //0
    var sl = test.scrollLeft;  //对滚动条变化

    getViewport()  //{width: 766, height: 662}
    getPagearea()   //    {width: 766, height: 662}
    getElementLeft(test);    // 28 = 8 + 20
    getElementViewLeft(test)  //28
    test.getBoundingClientRect() // {x: 28, y: 20, width: 180, height: 180, top: 20, …}
    test.getBoundingClientRect().left // 28
    test.getBoundingClientRect().left + document.documentElement.scrollLeft;  //28


    /*var test =  d3.select("#appNameTit")[0][0];
    test.getBoundingClientRect()*/
    /**
     * 获取浏览器窗口大小
     * @returns {{width: number, height: number}}
     */
    function getViewport() {
        if (document.compatMode == "BackCompat") {
            //文档模式  :IE6的quirks模式
            return {
                width: document.body.clientWidth,
                height: document.body.clientHeight
            }
        } else {
            return {
                width: document.documentElement.clientWidth,
                height: document.documentElement.clientHeight
            }
        }
    }

    /**
     * 获取浏览器页面大小--包含滚动区域
     * @returns {{width: number, height: number}}
     */
    function getPagearea() {
        if (document.compatMode == "BackCompat") {
            return {
                width: Math.max(document.body.scrollWidth,
                    document.body.clientWidth),
                height: Math.max(document.body.scrollHeight,
                    document.body.clientHeight)
            }
        } else {
            return {
                width: Math.max(document.documentElement.scrollWidth,
                    document.documentElement.clientWidth),
                height: Math.max(document.documentElement.scrollHeight,
                    document.documentElement.clientHeight)
            }
        }
    }

    /**
     * 获取元素绝对位置的横坐标--元素的左上角相对于整张网页左上角的坐标
     * @param element
     */
    function getElementLeft(element) {
        var actualLeft = element.offsetLeft;
        var current = element.offsetParent;
        while (current !== null) {
            actualLeft += current.offsetLeft;
            current = current.offsetParent;
        }
        return actualLeft;
    }

    /**
     * 获取元素绝对位置的纵坐标
     * @param element
     */
    function getElementTop(element) {
        var actualTop = element.offsetTop;
        var current = element.offsetParent;
        while (current !== null) {
            actualTop += current.offsetTop;
            current = current.offsetParent;
        }
        return actualTop;
    }

    /**
     * 获取元素绝对横坐标--元素左上角相对于浏览器窗口左上角的坐标
     * @param element
     * @returns {number}
     */
    function getElementViewLeft(element) {
        var actualLeft = element.offsetLeft;
        var current = element.offsetParent;
        while (current !== null) {
            actualLeft += current.offsetLeft;
            current = current.offsetParent;
        }
        if (document.compatMode == "BackCompat") {
            var elementScrollLeft = document.body.scrollLeft;
        } else {
            var elementScrollLeft = document.documentElement.scrollLeft;
        }
        return actualLeft - elementScrollLeft;
    }
</script>
</body>
</html>